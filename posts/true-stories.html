<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Entre Dev Y Ops">
    <title>#TrueStories que no me contó ningún amigo | Entre Dev Y Ops</title>
    
        <link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
        <link href="../assets/css/code.css" rel="stylesheet" type="text/css">
        <link href="../assets/css/colorbox.css" rel="stylesheet" type="text/css">
        <link href="../assets/css/edyo.css" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
            <link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">

        <meta name="twitter:card" content="summary">
        <meta name="og:url" content="http://www.entredevyops.es/posts/true-stories.html">
            <meta name="twitter:site:id" content="370552857">
        <meta name="og:title" content="#TrueStories que no me contó ningún amigo">
            <meta name="og:description" content="Son muchas las citas y reflexiones que se han dicho y escrito sobre los errores y sus consecuencias.
Nadie está exento de equivocarse, pero aprender de esos mismos errores es aquello que permite mejor">

    
</head>
<body>

<div id="wrap">

    <!-- Menubar -->

    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://www.entredevyops.es/">Entre Dev Y Ops</a>
            </div>
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav navbar-right" id="main-navbar">
                                    <li>
<a href="../tags/index.html"><i class="fa fa-tags"></i> Etiquetas</a>
                </li>
<li>
<a href="../archive.html"><i class="fa fa-archive"></i> Archivo</a>
                </li>
<li>
<a href="../podcast.html"><i class="fa fa-microphone"></i> Podcast</a>
                </li>
<li>
<a href="../acerca-de.html"><i class="fa fa-info-circle"></i> Acerca de...</a>

                        </li>
<li id="search-button"><a href="#" class="fa fa-search"></a></li>
                        </ul>
<form method="get" role="search" id="search" action="https://google.es/search" class="nav navbar-form">
<input type="hidden" name="as_sitesearch" value="http://www.entredevyops.es/">
<input type="text" name="q" maxlength="255" placeholder="Buscar..." class="form-control">
<input type="submit" value="Buscar">
</form>
                
            </div>
<!-- /.navbar-collapse -->
        </div>
    </nav>

    <!-- End of Menubar -->

    <div class="container">
        <div class="body-content">
            <!--Body content-->
    <article class="postbox clearfix">
            <h1 class="p-name" itemprop="headline name">#TrueStories que no me contó ningún amigo</h1>

            <ul class="pager">
        <li class="previous">
        <a href="seguridad-alexa.html" title="¿Dejarías entrar a Alexa en tu casa?" rel="prev">Post anterior</a>
        </li>
        <li class="next">
            <a href="shellscript-lambda.html" title="Ejecutando shell script en AWS Lambda" rel="next">Siguiente post</a>
        </li>
    </ul>

        <div class="meta">
            <small>
                por <span class="author">Ignasi Fosch</span>
                el <time class="published" datetime="2017-02-17T10:35:00+01:00">17/02/2017</time>
                
                en     <span itemprop="keywords">
        <a class="tag p-category" href="../tags/automatizacion.html"><span class="badge badge-info">Automatización</span></a>
        <a class="tag p-category" href="../tags/basicos.html"><span class="badge badge-info">Básicos</span></a>
        <a class="tag p-category" href="../tags/cronica.html"><span class="badge badge-info">Crónica</span></a>
        <a class="tag p-category" href="../tags/empresa.html"><span class="badge badge-info">Empresa</span></a>
        <a class="tag p-category" href="../tags/filosofia.html"><span class="badge badge-info">Filosofía</span></a>
        <a class="tag p-category" href="../tags/formacion.html"><span class="badge badge-info">Formación</span></a>
    </span>

            </small>
        </div>
        <p><img src="https://cloud.githubusercontent.com/assets/2912400/22860786/669fab80-f108-11e6-8519-f9af43643c67.jpg" alt="Mitsakes" class="align-left height=" width="200"></p>
<p>Son muchas las citas y reflexiones que se han dicho y escrito sobre los errores y sus consecuencias.
Nadie está exento de equivocarse, pero aprender de esos mismos errores es aquello que permite mejorar y avanzar.</p>
<p>Reflexionar partiendo de errores que se han cometido, por nosotros mismos o otros; Identificar causas, medidas, incluso otros errores cometidos en su resolución, es una tarea difícil y, a veces, dura.
Pero resistirse a hacerlo por <s>el orgullo de algunos</s> cualquier motivo, es un error mucho mayor que cualquier otro.</p>
<!-- TEASER_END -->

<h3>Hace unas semanas...</h3>
<p>Por si alguien no lo había oído, desde el 31 de enero hasta el uno de febrero, <a href="https://about.gitlab.com/features/">GitLab</a> sufrió una caída de servicio importante debido a la <a href="https://about.gitlab.com/2017/02/01/gitlab-dot-com-database-incident/">sucesión encadenada de diferentes errores</a>.
Uno de los más comentados fue que de cinco mecanismos de copia de seguridad de que disponían, ninguno funcionó suficientemente bien.</p>
<p>Aunque ya tenía pensado este post desde hacía un par de meses, este evento me viene que ni al pelo para publicarlo y, además hacer una propuesta.</p>
<h3>Hace unos meses...</h3>
<p>Hace unos meses, un viernes tarde, a punto de acabar la jornada, cometí un error al hacer un <em>pull request</em> en un proyecto público, de un <em>script</em> en el que había estado trabajando.
Los cambios que subí incluían un <em>commit</em> que había hecho en local, donde se incluían las credenciales de una cuenta.
Fue mi compañero quien vió las credenciales, revisé la cuenta y vi que sólo podía acceder a un servicio que estábamos probando y únicamente en modo de lectura.
Además las credenciales no eran visibles en el <code>HEAD</code>, y pensé que tampoco había mucho problema en arreglarlo tras el fin de semana.</p>
<p>Al día siguiente, me encontré en mi buzón un mensaje de alguien que mencionaba haber encontrado esas claves.
Eso me sorprendió bastante... sinceramente, no creí que nadie mirara las contribuciones a ese nivel en proyectos tan poco relevantes.
Se trataba de un <em>bot</em> que su creador usaba para buscar trabajo; detectaba credenciales, y enviaba el mail automáticamente, avisando de los peligros de haber subido las credenciales y dando el contacto del creador y su perfil.
Por supuesto, me apresuré a corregir la historia del repositorio para evitar que el <em>commit</em> fuera visible y a cancelar las credenciales.</p>
<p>Por supuesto, no es el único error que he cometido...</p>
<h3>Hace unos años...</h3>
<p>Hace unos años, tenía que actualizar el número de serie del registro <code>SOA</code> de un dominio que servíamos sobre un <a href="https://www.powerdns.com/">PowerDNS</a> sobre MySQL.
Así que escribí una sentencia <code>UPDATE</code> para cambiarlo, pero olvidé incluir la cláusula <code>WHERE</code> apropiada... el resultado fue bastante desastroso, pues había actualizado todos los registros con el mismo contenido.
La resolución fue sencilla: Restaurar de la última copia de seguridad, modificar el registro que había cambiado, y volver a hacer el <code>UPDATE</code>, esta vez con el <code>WHERE</code> correcto.
Pero además, decidí escribir una función SQL para evitar el error en posteriores situaciones.</p>
<h3>Soluciones peculiares</h3>
<p>En otra ocasión, añadiendo usuarios al <a href="https://es.wikipedia.org/wiki/Protocolo_Ligero_de_Acceso_a_Directorios">LDAP</a> de un dominio en Samba, un compañero borró la base de datos del dominio de la oficina.
Esta vez, como no se había considerado crítico, no había ningún proceso de copia de seguridad ejecutándose regularmente, y la última copia de seguridad existente era de hacía, creo recordar, seis meses.
Restaurarla habría cancelado unas cuantas cuentas de usuario eliminadas; las de los usuarios que se habían creado en esos meses.</p>
<p>Por suerte, el compañero había volcado a pantalla el contenido de la base de datos y lo pudimos recuperar copiándolo directamente del buffer de la terminal, restaurando las cuentas que faltaban en el <em>backup</em>.
Posteriormente, creamos un sistema de copia de seguridad periódico.</p>
<h3>Propuesta</h3>
<p>La propuesta es que nos <a href="mailto:info@entredevyops.es">enviéis</a> <s>vuestras cagadas</s> vuestros errores para que los comentemos, anónimamente, en nuestro podcast.
De este modo, todos nuestros oyentes podrán aprender de los errores de otros.</p>
<p>Créditos de la imagen de cabecera: Creada por <a href="http://twitter.com/meredithatwater">Meredith Atwater</a> para <a href="https://opensource.com/">opensource.com</a></p>
    </article>
        <div class="pager row">
        <div class="previous col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <div>Post anterior</div>
            <a href="seguridad-alexa.html" rel="prev">¿Dejarías entrar a Alexa en tu casa?</a>
        </div>
        <div class="next col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <div>Siguiente post</div>
            <a href="shellscript-lambda.html" rel="next">Ejecutando shell script en AWS Lambda</a>
        </div>
    </div>

                    <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="edyo",
            disqus_url="http://www.entredevyops.es/posts/true-stories.html",
        disqus_title="#TrueStories que no me cont\u00f3 ning\u00fan amigo",
        disqus_identifier="cache/posts/2017-02-15-natx-true-stories.html",
        disqus_config = function () {
            this.language = "es_ES";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>JavaScript debe estar activado para ver los <a href="http://disqus.com/?ref_noscript" rel="nofollow">comentarios con Disqus.</a>
</noscript>
    <a href="http://disqus.com" class="dsq-brlink" rel="nofollow">Comentarios con <span class="logo-disqus">Disqus</span></a>


    
            <!--End of body content-->
        </div>
    </div>

</div>

<footer>
    <div class="container">
        Suscríbete a nuestro <a href="http://www.entredevyops.es/rss.xml">RSS <i class="fa fa-rss"></i></a> o síguenos en <a href="https://twitter.com/entredevyops">Twitter <i class="fa fa-twitter"></i></a><br>© 2017 Entre Dev Y Ops por los <a href="http://www.entredevyops.es/acerca-de.html#authors">autores</a> bajo <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.es_ES">Licencia <img alt="Licencia Creative Commons" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" height="15px" width="80px"></a> — Powered by <a href="http://getnikola.com">Nikola</a>
    </div>
</footer>

            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript"></script>
            <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
        <script src="../assets/js/jquery.colorbox-min.js" type="text/javascript"></script>

    <script>
        $( "#search-button" ).click(toggle_search);
        function toggle_search() {
            $('#main-navbar').children().each(
                function() {
                    if ($(this).attr('id') != 'search-button') {
                        console.log($(this).attr('id'));
                        $(this).toggle();
                    };
                }
            );
            $( "#search" ).toggle();
        }
    </script>
	

    <script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-25613214-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
